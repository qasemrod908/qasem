# تطبيق معهد القاسم للعلوم واللغات

## Overview
تطبيق ويب شامل لإدارة معهد تعليمي باللغة العربية، مبني باستخدام Flask وPython وقاعدة بيانات SQLite. يوفر نظامًا متكاملًا لإدارة المستخدمين، الدورات التدريبية، الأخبار، والدروس، مع نظام مصادقة متعدد الأدوار (مدير، معاون، مدرس، طالب) ونظام نسخ احتياطي متقدم يدعم التكامل مع Telegram. يهدف المشروع إلى توفير حل شامل لإدارة العمليات التعليمية والإدارية للمعهد.

## User Preferences
- جميع الاتصالات باللغة العربية
- شرح واضح ومختصر
- الإبلاغ عن التغييرات المهمة قبل تنفيذها
- إعطاء الأولوية للأمان وسلامة البيانات
- عدم استخدام بيانات ثابتة في الكود

## System Architecture

### التقنيات المستخدمة
- **الواجهة الخلفية**: Flask (Python 3.11)
- **قاعدة البيانات**: SQLite
- **المصادقة**: Flask-Login مع تسجيل دخول برقم الجوال وتشفير كلمات المرور (Werkzeug)
- **النماذج**: Flask-WTF مع حماية CSRF
- **إدارة الملفات**: رفع الصور والملفات بحد أقصى 16 MB
- **النسخ الاحتياطي**: خيارات متعددة (شامل، بنية، بيانات) مع إرسال تلقائي للتيليجرام، وتوليد نسخ احتياطية تلقائية عند تغيير قاعدة البيانات باستخدام SQLAlchemy Event Listeners ومعالجة خلفية (threading).
- **التكامل مع التيليجرام**: إدارة كاملة من لوحة التحكم لإشعارات النسخ الاحتياطي واستمارة "اتصل بنا".
- **التوقيت**: استخدام توقيت دمشق (+3 ساعات) عبر دالة مساعدة مركزية.

### الميزات الرئيسية
- **إدارة المستخدمين والأدوار**: إضافة، تعديل، حذف، تفعيل/تعطيل المستخدمين مع صلاحيات متقدمة لأربعة أدوار.
- **إدارة الطلاب**: عرض، تعديل، حذف الطلاب، تسجيلهم في دورات، وربطهم بأساتذة.
- **إدارة المدرسين**: تعديل بيانات المدرسين (التخصص، المؤهلات، الخبرة).
- **إدارة الدورات**: إضافة، تعديل، حذف الدورات مع رفع الصور.
- **إدارة الدروس**: إضافة، تعديل، حذف الدروس، تحديد الدورة والأستاذ، ورفع الملفات. الدروس متاحة فقط للطلاب المسجلين.
- **نظام الدروس للمدرسين**: واجهة خاصة للمدرسين لإدارة دروسهم (تعديل، حذف، تغيير حالة النشر).
- **إدارة الأخبار**: إضافة، تعديل، حذف الأخبار مع رفع الصور.
- **نظام العلامات**: تسجيل وعرض العلامات للطلاب.
- **استمارة اتصل بنا**: مع إرسال تلقائي للتيليجرام.
- **نظام النسخ الاحتياطي**: عرض، تحميل، استعادة النسخ الاحتياطية من لوحة الإدارة.
- **إدارة الرسائل الواردة**: صفحة لعرض رسائل "اتصل بنا"، وتفاصيلها، ووضع علامة كمقروءة، وحذف الرسائل.
- **تحسينات واجهة المستخدم**: سلايدرات Bootstrap Carousel للمدرسين والدورات في الصفحة الرئيسية، وتصميم متجاوب.
- **الأمان**: إزالة البيانات الثابتة، عدم وجود مستخدمين افتراضيين، تحسين أمان مسارات الملفات، فحص صلاحيات دقيق.

### هيكل المشروع
يتكون المشروع من مجلد `app/` الذي يحتوي على النماذج (models)، المسارات (routes) للمصادقة، الإدارة، المدرسين، الطلاب، والصفحات العامة، بالإضافة إلى القوالب (templates)، الملفات الثابتة (static)، والأدوات المساعدة (utils). الملفات الرئيسية تشمل `main.py` و`config.py` وقاعدة البيانات `alqasim_institute.db`.

## External Dependencies
- **Telegram Bot API**: للتكامل مع Telegram لإرسال إشعارات النسخ الاحتياطي واستلام رسائل "اتصل بنا". يتم إعداد Bot Token و Chat ID من لوحة التحكم الإدارية.